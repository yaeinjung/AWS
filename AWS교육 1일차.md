<h2>AWS교육 1일차</h2>

`on Premise` : (=IDC)

`Policy` : 권한

`Object Level Storage`

`End Point` : 접속하기위한 고유한 호스트 이름

<h3>    컴퓨팅계층
</h3>

<h4>	S3</h4>

* 정적컨텐츠를 저장하고 웹서버처럼 사용 가능
* 대용량 데이터 저장가능
* 5TB까지 무제한으로 넣을 수 있음
* 대량의 데이터를 분석하는데 쓸 수 있음.
* 적용사례 : 백업된 데이터 저장해서 사용 가능
* 멀티파트 업로드 가능
* 대량의 데이터 업로드시 멀리 떨어진 Region에 업로드할때 Transfer Acceleration 기능 사용가능
* 대량의 Storage 역할. 대량으로 저장하고 자주 읽고쓰는 데이터일때 적합
* **Block Level로 IO가 일어나는 경우**에는 **적합하지 않음**
* **자주 CUD가 일어나는 데이터의 경우 적합하지 않음**
* GB 당 $0.025

<h4>S3 Glacier</h4>

- 장기적으로 데이터 백업시 S3 Glacier가 적합 -- 저장해놓고 거의 Access하지 않는 데이터들
- 저장하는 비용은 저렴하지만 저장한것을 다시 가져오는건 비쌈
- 장기적으로 데이터 백업시 S3말고 Glacier가 적합

<h3>리전</h3>

데이터를 물리적으로 어딘가 저장. 

정책상 데이터가 해외에 저장될 수 없는 경우 >> 서울 리전에 저장

가까운곳에 저장하면 빠름

비용도 region마다 다름

------

<h4>EC2</h4>

인스턴스 : 띄웠다가 파기

 * `AMI` : EC2(인스턴스)를 어떻게 띄울건지에 대한 정보가 들어있음
 * `Image Builder` : 이미지를 배포화 
 * 인스턴스를 지우면 데이터는 어디 남을까? >> 날아감. EC2가 아닌 바깥에 뺄 필요가 있음
 * `hypervisor` : 가상머신을 돌아가게 해주는

| vm1, vm2, ... (=인스턴스) |
| ------------------------- |
| Hypervisor                |
| OS                        |
| H/W                       |

* 기본적으로는 하나의 인스턴스만 `EBS`를 씀. `EBS`는 블록스토리지. 인스턴스가 날아갔을때 데이터를 저장하기 위해서 사용
* 보통 SSD가 하드디스크보다 빠름(SSD: 신호로 데이터를 처리/ 하드디스크:원판을 돌려서 읽음)
* 하드디스크를 쓰는 경우는
  * 어차피 데이터를 다 읽어야 하는 경우
  * SSD는 필요한 데이터를 조금만 읽어야 할 때 사용
* 여러인스턴스가 스토리지를 공유해야할때는? 
  * EBS가 아닌 `EFS`/`FSx`를 사용해야함
* 인스턴스 스토리지 HDD : 물리적 HW속의 공간 사용
* 요금옵션
  * 예약인스턴스 : 예약해서 사용. 비용할인받음. 다른 리전으로 옮기는것 불가능
  * savings plans : 다른 리전으로 옮기기 가능. 유연한 과금체계
* 전용인스턴스 : 나만쓸 수 있는 물리적 공간
  * 내렸다가 올리면 쓰고있지 않은 호스트머신 찾아서 거기에 띄움
* 전용호스트 : 고정된 곳에 띄우고 싶을때(고객에 선택한 특정 하드웨어)
* 클라우드는 멀티테넌트
* 아키텍처 고려사항
  * 클러스터/분산/파티션(그룹화)



<h3>데이터베이스계층</h3>

웹서버와 DB서버를 하나의 인스턴스에 두면 서로 의존적이니까 안좋음

얼마나 많은 데이터인지, 어떤 데이터를 저장해야하는지에 따라 고려해야함. 

* 데이터베이스의 두가지 유형 : `관계형` , `비관계형`

<h4>관계형 데이터베이스</h4>

* 데이터 무결성을 지켜야 할 때 사용
* 중앙집중형
* 복잡한 transaction에 적합

<h4>비관계형 데이터베이스</h4>

* key값을 기준으로 데이터를 저장
* key-value로 저장하거나 객체형태로 문서저장
* 데이터수집에 집중

<h5>Dynamo DB</h5>

	리전마다 복제본 생성 가능

	복잡한 join이 발생하면 안됨

	복제본생성시 데이터 정합성에 신경써야함

	원래는 아마존 쇼핑몰 임시카트를 저장하기 위해 만든 DB시스템	

	사용사례 : 순위표 및 점수매기기

	이벤트가 발생하면 이벤트 발생시 특정 작업을 동작시키게 할 수 있음

	최종일관성/강력한일관성

<h4>AWS DMS</h4>

마이그레이션 서비스

DB로그를 다른 DB에 지속적으로 마이그하는것도 가능

<h4>AWS Snowball Edge</h4>

* 스노우볼 : 데이터 저장
* 스노우볼엣지 : 데이터 가공가능. 하나이상의 DB 마이그 가능



<h4>EC2 실습</h4>

* 인스턴스 생성시 시간이 오래걸리면 Image Builder에 AMI를 저장하면됨

* 보안구성-규칙은 inbound로 설정
  * EC2인스턴스 ---(그룹정보)---> RDB
  * EC2인스턴스는 모든곳에서 inbound
  * RDB는 EC2인스턴스에서 inbound 제한

